<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Studyart — Личный кабинет</title>
  <meta name="description" content="Studyart: курсы, сеты слов, интервальные повторения." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      /* Пастельная зелёная тема под стиль карточек */
      --bg:#f6fbf7;            /* общий фон */
      --bg-2:#eef8f1;          /* мягкий градиент фона */
      --card:#ffffff;          /* карточки */
      --ink:#0f172a;           /* основной текст */
      --muted:#5b6777;         /* вторичный */
      --line:rgba(15,23,42,.08); /* деликатные линии */
      --brand:#9fe6cc;         /* мятный пастель */
      --brand-2:#c9f0e0;       /* светлый мятный */
      --accent:#e9f7ef;        /* светло-зелёный для заливок */
      --ok:#43b98e;            /* зелёная кнопка */
      --warn:#efb661;          /* янтарный */
      --danger:#f08a8a;        /* мягкий красный */
      --shadow: 0 12px 32px rgba(15, 23, 42, 0.08);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Helvetica Neue,Arial;
      color:var(--ink);
      background: radial-gradient(1200px 600px at 50% -200px, var(--bg-2), transparent 60%), var(--bg);
    }
    .wrap{max-width:1152px; margin:0 auto; padding:24px 16px 56px}

    /* Header */
    header{
      position:sticky; top:0; z-index:5; backdrop-filter: blur(8px);
      background:linear-gradient(180deg, rgba(246,251,247,0.85), rgba(246,251,247,0.65));
      border-bottom:1px solid var(--line);
    }
    .head{display:flex; align-items:center; justify-content:space-between; gap:16px; padding:14px 16px}
    .brand{display:flex; align-items:center; gap:12px}
    .logo{
      width:40px; height:40px; border-radius:12px; display:grid; place-items:center;
      color:#0f172a; font-weight:700; letter-spacing:0.3px;
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      border:1px solid var(--line); box-shadow: var(--shadow);
    }
    .brand h1{font-size:18px; margin:0}

    .controls{display:flex; align-items:center; gap:10px; flex-wrap:wrap}
    .select{
      display:flex; align-items:center; gap:8px; padding:8px 10px; border:1px solid var(--line);
      background: var(--card); border-radius:12px; box-shadow:var(--shadow);
    }
    .select label{font-size:12px; color:var(--muted)}
    .select select{border:none; background:transparent; font-weight:600; padding:2px 0}
    .select select:focus{outline:none}

    main{margin-top:16px}

    /* Sections */
    .section{margin:26px 0}
    .section h2{margin:0 0 12px; font-size:18px}
    .grid{display:grid; grid-template-columns:repeat(12, 1fr); gap:16px}

    .card{
      grid-column: span 12;
      background:var(--card); border:1px solid var(--line); border-radius:var(--radius);
      box-shadow:var(--shadow); padding:16px; display:flex; gap:16px; align-items:center;
    }
    @media (min-width:640px){ .card{grid-column: span 6} }
    @media (min-width:960px){ .card{grid-column: span 4} }

    .card .pill{font-size:11px; padding:4px 8px; border-radius:999px; background:#f1f5f9; color:var(--muted); border:1px solid #e8edf2}
    .card .title{font-weight:800; margin:2px 0 6px}
    .meta{font-size:13px; color:var(--muted)}
    .grow{flex:1}

    .btn{
      appearance:none; border:none; cursor:pointer; font-weight:700; border-radius:14px;
      padding:10px 14px; background:var(--ok); color:#fff; transition:transform .05s ease, box-shadow .2s ease;
      box-shadow: 0 8px 20px rgba(67,185,142,.25);
    }
    .btn:hover{transform:translateY(-1px)}
    .btn:active{transform:translateY(0)}
    .btn.ghost{background:#fff; color:var(--ink); border:1px solid var(--line); box-shadow:none}
    .btn.brand{background:linear-gradient(135deg, var(--brand), var(--brand-2)); color:#0f172a; box-shadow:0 8px 20px rgba(159,230,204,.35)}

    /* Progress Bar */
    .progress{height:8px; background:#edf3ef; border-radius:999px; overflow:hidden; position:relative}
    .bar{height:100%; width:0; background:linear-gradient(90deg, var(--brand), var(--brand-2)); border-radius:999px}

    /* Review banner */
    .review{
      display:flex; align-items:center; gap:14px; padding:16px; border:1px solid var(--line);
      background:linear-gradient(180deg, rgba(159,230,204,.18), rgba(201,240,224,.18));
      border-radius:var(--radius);
    }
    .review strong{font-weight:800}

    /* Recommendations */
    .reco-card{display:flex; gap:12px; align-items:flex-start; padding:14px; border:1px solid var(--line); border-radius:14px; background:#fff}
    .reco-tag{font-size:11px; padding:3px 8px; border-radius:999px; background:#ecfdf5; color:#134e4a; border:1px solid #d1fae5}
    .reco-list{display:grid; grid-template-columns:repeat(12,1fr); gap:12px}
    .reco-card{grid-column: span 12}
    @media (min-width:800px){ .reco-card{grid-column: span 6} }

    /* Minimal icon badge */
    .ico{width:44px;height:44px;border-radius:14px;display:grid;place-items:center;border:1px solid var(--line);
      background: radial-gradient(120px 80px at 50% 0%, var(--brand-2), var(--card) 70%)}
    .ico svg{width:22px;height:22px;stroke:#1a2a22}

    footer{margin:36px 0 0; padding-top:16px; border-top:1px solid var(--line); color:var(--muted); font-size:12px}
    .spacer{height:8px}
  </style>
</head>
<body>
  <header>
    <div class="wrap head">
      <div class="brand">
        <div class="logo">SA</div>
        <h1>Studyart</h1>
      </div>
      <div class="controls">
        <div class="select">
          <label for="uiLang">UI</label>
          <select id="uiLang" aria-label="Interface language">
            <option value="en">English</option>
            <option value="ru" selected>Русский</option>
            <option value="es">Español</option>
            <option value="ar">العربية</option>
          </select>
        </div>
        <div class="select">
          <label for="learnLang">Learning</label>
          <select id="learnLang" aria-label="Learning language">
            <option value="en">English</option>
            <option value="es" selected>Español</option>
            <option value="de">Deutsch</option>
            <option value="fr">Français</option>
            <option value="ar">العربية</option>
          </select>
        </div>
      </div>
    </div>
  </header>

  <main class="wrap" id="app">
    <!-- KPI Row -->
    <section class="section" aria-label="overview">
      <div class="review" role="note">
        <div style="font-weight:800">⚡️ Intervals</div>
        <div class="grow">Сегодня к повторению: <strong id="dueWords">0 слов</strong> · Серии: <strong id="streak">0 дней</strong></div>
        <button class="btn brand" id="startReview">Начать повторение</button>
      </div>
    </section>

    <!-- My Courses -->
    <section class="section" aria-labelledby="myCoursesTitle">
      <h2 id="myCoursesTitle">Мои курсы</h2>
      <div class="grid" id="coursesGrid"></div>
    </section>

    <!-- My Word Sets -->
    <section class="section" aria-labelledby="mySetsTitle">
      <h2 id="mySetsTitle">Мои сеты слов</h2>
      <div class="grid" id="setsGrid"></div>
      <div class="spacer"></div>
      <button class="btn ghost" id="createSet">+ Создать новый сет</button>
    </section>

    <!-- Need to Repeat -->
    <section class="section" aria-labelledby="needTitle">
      <h2 id="needTitle">Надо повторить</h2>
      <div class="grid" id="needGrid"></div>
    </section>

    <!-- Recommendations -->
    <section class="section" aria-labelledby="recoTitle">
      <h2 id="recoTitle">Рекомендации для вас</h2>
      <p class="meta" id="recoHint">Подборка под язык обучения.</p>
      <div class="reco-list" id="recoList"></div>
    </section>

    <footer>
      Studyart © <span id="year"></span> • Dashboard prototype
    </footer>
  </main>

  <script>
    // ---- Mock Data ----
    const mockUser = {
      id: 'u_001',
      name: 'Alex',
      uiLang: localStorage.getItem('uiLang') || 'ru',
      learnLang: localStorage.getItem('learnLang') || 'es',
      streak: 4,
      dueToday: 28
    };

    const courses = [
      { id:'c1', title:'Spanish A1 — Basics', lang:'es', lessons:24, done:12, tag:'A1' },
      { id:'c2', title:'Everyday English — Travel', lang:'en', lessons:18, done:7, tag:'Topic' },
      { id:'c3', title:'Deutsch — Starter Pack', lang:'de', lessons:20, done:2, tag:'A1' },
      { id:'c4', title:'Français — Verbes 1', lang:'fr', lessons:10, done:6, tag:'Grammar' },
    ];

    const sets = [
      { id:'s1', title:'Restaurant phrases', lang:'es', total:80, learned:42, due:10 },
      { id:'s2', title:'Airport essentials', lang:'en', total:60, learned:23, due:5 },
      { id:'s3', title:'Daily verbs', lang:'es', total:100, learned:70, due:12 },
      { id:'s4', title:'Colors & Clothes', lang:'de', total:40, learned:12, due:3 },
      { id:'s5', title:'Work basics', lang:'es', total:55, learned:20, due:7 },
    ];

    const recommendations = [
      { id:'r1', title:'Top 100 Verbs', lang:'es', type:'Set', info:'Глаголы уровня A1–A2', tag:'Verbs' },
      { id:'r2', title:'Survival Spanish', lang:'es', type:'Course', info:'Выживание в поездке за неделю', tag:'Travel' },
      { id:'r3', title:'Listening Boost', lang:'en', type:'Course', info:'20 коротких диалогов', tag:'Listening' },
      { id:'r4', title:'Numbers & Dates', lang:'de', type:'Set', info:'Числительные и даты', tag:'Basics' },
      { id:'r5', title:'Pronunciation Drills', lang:'fr', type:'Course', info:'10 мини-уроков', tag:'Pronunciation' },
      { id:'r6', title:'Frases del café', lang:'es', type:'Set', info:'Заказ в кафе и small talk', tag:'Conversation' },
    ];

    // ---- Helpers ----
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

    function fmtWords(n){
      const mod10 = n % 10, mod100 = n % 100;
      if(mod10 === 1 && mod100 !== 11) return `${n} слово`;
      if(mod10 >=2 && mod10 <=4 && (mod100 < 12 || mod100 > 14)) return `${n} слова`;
      return `${n} слов`;
    }
    const progress = (done,total)=> Math.max(0, Math.min(100, Math.round((done/total)*100)));

    // ---- Renderers ----
    function renderKPI(){
      $('#dueWords').textContent = `${fmtWords(mockUser.dueToday)}`;
      $('#streak').textContent = `${mockUser.streak} дней`;
    }

    const iconCourse = `
      <div class="ico" aria-hidden="true">
        <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <path d="M4 5h16M4 12h16M4 19h10" />
        </svg>
      </div>`;

    const iconSet = `
      <div class="ico" aria-hidden="true">
        <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="4" width="18" height="12" rx="2"/><path d="M7 20h10"/>
        </svg>
      </div>`;

    const iconSR = `
      <div class="ico" aria-hidden="true">
        <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 11h18"/>
          <path d="M7 7h10"/>
          <path d="M5 15h6"/>
        </svg>
      </div>`;

    function makeCourseCard(c){
      const p = progress(c.done, c.lessons);
      const el = document.createElement('div');
      el.className = 'card';
      el.innerHTML = `
        ${iconCourse}
        <div class="grow">
          <div class="pill">${c.tag}</div>
          <div class="title">${c.title}</div>
          <div class="meta">Уроков: ${c.done}/${c.lessons}</div>
          <div class="progress" aria-label="progress"><div class="bar" style="width:${p}%"></div></div>
        </div>
        <button class="btn" data-course="${c.id}">Продолжить</button>
      `;
      return el;
    }

    function makeSetCard(s){
      const p = progress(s.learned, s.total);
      const el = document.createElement('div');
      el.className = 'card';
      el.innerHTML = `
        ${iconSet}
        <div class="grow">
          <div class="pill">${s.lang.toUpperCase()} · ${s.total} слов</div>
          <div class="title">${s.title}</div>
          <div class="meta">Изучено: ${s.learned} · К повторению: <b style="color:var(--warn)">${s.due}</b></div>
          <div class="progress" aria-label="progress"><div class="bar" style="width:${p}%"></div></div>
        </div>
        <div style="display:flex; gap:8px;">
          <button class="btn" data-review-set="${s.id}">Повторить</button>
          <button class="btn ghost" data-open-set="${s.id}">Открыть</button>
        </div>
      `;
      return el;
    }

    function makeNeedCard(s){
      const el = document.createElement('div');
      el.className = 'card';
      el.innerHTML = `
        ${iconSR}
        <div class="grow">
          <div class="pill">Spaced Repetition</div>
          <div class="title">${s.title}</div>
          <div class="meta">Сегодня к повторению: <b>${s.due}</b> · Всего в сете: ${s.total}</div>
        </div>
        <button class="btn brand" data-review-set="${s.id}">Начать</button>
      `;
      return el;
    }

    function makeRecoCard(r){
      const el = document.createElement('div');
      el.className = 'reco-card';
      el.innerHTML = `
        <div class="ico" style="width:38px;height:38px;border-radius:12px" aria-hidden="true">
          <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 7h16M4 12h10M4 17h6"/>
          </svg>
        </div>
        <div class="grow">
          <div class="reco-tag">${r.tag}</div>
          <div class="title">${r.title}</div>
          <div class="meta">${r.info}</div>
        </div>
        <button class="btn" data-add-reco="${r.id}">Добавить</button>
      `;
      return el;
    }

    function renderCourses(){
      const grid = $('#coursesGrid');
      grid.innerHTML = '';
      courses
        .filter(c => !mockUser.learnLang || c.lang === mockUser.learnLang)
        .concat(courses.filter(c => c.lang !== mockUser.learnLang))
        .slice(0,6)
        .forEach(c => grid.appendChild(makeCourseCard(c)));
    }

    function renderSets(){
      const grid = $('#setsGrid');
      grid.innerHTML = '';
      sets
        .filter(s => !mockUser.learnLang || s.lang === mockUser.learnLang)
        .forEach(s => grid.appendChild(makeSetCard(s)));
    }

    function renderNeed(){
      const grid = $('#needGrid');
      grid.innerHTML = '';
      sets
        .filter(s => s.due > 0)
        .sort((a,b) => b.due - a.due)
        .slice(0,3)
        .forEach(s => grid.appendChild(makeNeedCard(s)));
    }

    function renderReco(){
      const list = $('#recoList');
      list.innerHTML = '';
      const relevant = recommendations.filter(r => r.lang === mockUser.learnLang);
      $('#recoHint').textContent = `Показываем подборку для языка: ${mockUser.learnLang.toUpperCase()}`;
      relevant.forEach(r => list.appendChild(makeRecoCard(r)));
    }

    function renderAll(){
      renderKPI();
      renderCourses();
      renderSets();
      renderNeed();
      renderReco();
    }

    // ---- Events ----
    function attachEvents(){
      const uiSel = $('#uiLang');
      const learnSel = $('#learnLang');
      uiSel.value = mockUser.uiLang;
      learnSel.value = mockUser.learnLang;

      uiSel.addEventListener('change', (e)=>{
        mockUser.uiLang = e.target.value;
        localStorage.setItem('uiLang', mockUser.uiLang);
      });

      learnSel.addEventListener('change', (e)=>{
        mockUser.learnLang = e.target.value;
        localStorage.setItem('learnLang', mockUser.learnLang);
        renderAll();
      });

      document.body.addEventListener('click', (e)=>{
        const t = e.target;
        if(t.matches('[data-course]')){
          const id = t.getAttribute('data-course');
          alert('Открываем курс: '+id);
        }
        if(t.matches('[data-open-set]')){
          const id = t.getAttribute('data-open-set');
          alert('Открываем сет: '+id);
        }
        if(t.matches('[data-review-set]') || t.id === 'startReview'){
          alert('Запуск повторения…');
        }
        if(t.matches('[data-add-reco]')){
          const id = t.getAttribute('data-add-reco');
          alert('Добавлено в профиль: '+id);
        }
        if(t.id === 'createSet'){
          alert('Создание нового сета');
        }
      });
    }

    // ---- Init ----
    (function init(){
      document.getElementById('year').textContent = new Date().getFullYear();
      renderAll();
      attachEvents();
    })();
  </script>
</body>
</html>
