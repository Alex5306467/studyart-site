<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>StudyArt ‚Äî –≤—Ö–æ–¥ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</title>
  <meta name="description" content="StudyArt ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∏ –∏ –º–∏–Ω–∏-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ Google –∏–ª–∏ Apple, –ª–∏–±–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –ø–æ email.">
  <style>
    :root{
      --bg:#f6fbf8; --mint:#d8f3e3; --mint-strong:#a6e3c8; --ink:#20322f; --muted:#536e67;
      --card:#ffffff; --accent:#2f8f6b; --radius:18px; --shadow:0 14px 40px rgba(32,50,47,.10);
    }
    *{box-sizing:border-box}
    body{margin:0;font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Arial;color:var(--ink);
      background:linear-gradient(180deg,var(--bg),#fff)}
    .wrap{max-width:940px;margin:0 auto;padding:32px 20px 64px}
    .hero{background:linear-gradient(120deg,var(--mint),var(--mint-strong));border-radius:var(--radius);
      padding:34px 28px;box-shadow:var(--shadow)}
    h1{margin:0 0 6px;font-size:40px}
    .lead{margin:8px 0 0;color:var(--ink);opacity:.9}
    .grid{display:grid;grid-template-columns:1.1fr .9fr;gap:22px;margin-top:22px}
    .card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:20px}
    label{display:block;font-weight:600;margin:10px 0 6px}
    input{width:100%;padding:12px 14px;border:1px solid #dfe7e4;border-radius:12px;font:inherit;outline:none}
    input:focus{border-color:#9fd9c2;box-shadow:0 0 0 4px rgba(159,217,194,.25)}
    .btn{display:inline-block;margin-top:14px;padding:12px 16px;font-weight:700;color:#fff;background:var(--accent);
      border:none;border-radius:999px;cursor:pointer}
    .btn-ghost{display:inline-block;margin-top:10px;padding:11px 14px;border-radius:999px;border:1px solid #cfe7dd;
      background:#ecf8f3;color:#1f5849;font-weight:700;cursor:pointer;width:100%;text-align:center}
    .row{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
    .hint{color:var(--muted);font-size:14px;margin-top:10px}
    .right li{margin:6px 0}
    .state{margin-top:10px;padding:10px 12px;border-radius:12px;background:#f4fffa;border:1px solid #cfe7dd;font-size:14px}
    footer{margin-top:34px;color:var(--muted);font-size:14px;text-align:center}
    @media (max-width:840px){.grid{grid-template-columns:1fr}h1{font-size:34px}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="hero">
      <h1>StudyArt</h1>
      <p class="lead">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ Google/Apple –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –ø–æ email.</p>
    </div>

    <div class="grid">
      <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è -->
      <div class="card">
        <h2 style="margin:0 0 12px">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è / –í—Ö–æ–¥</h2>

        <label for="email">Email</label>
        <input id="email" type="email" placeholder="you@example.com" required>
        <label for="password">–ü–∞—Ä–æ–ª—å</label>
        <input id="password" type="password" placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤" required>
        <div class="row">
          <button id="email-signup" class="btn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
          <button id="email-login" class="btn" style="background:#1d6d53">–í–æ–π—Ç–∏</button>
        </div>

        <div class="hint">–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç:</div>
        <div class="row">
          <button id="google-btn" class="btn-ghost">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å Google</button>
          <button id="apple-btn"  class="btn-ghost">–í–æ–π—Ç–∏ —Å Apple</button>
        </div>

        <div id="state" class="state" style="display:none"></div>
        <div class="hint">–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –ø–æ–∫–∞–∂–µ–º –∏–º—è/–ø–æ—á—Ç—É –∏ –∫–Ω–æ–ø–∫—É ¬´–í—ã–π—Ç–∏¬ª.</div>
      </div>

      <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: —á—Ç–æ —ç—Ç–æ –¥–∞—Å—Ç -->
      <div class="card right">
        <h2 style="margin:0 0 8px;">–ó–∞—á–µ–º –≤—Ö–æ–¥–∏—Ç—å?</h2>
        <ul>
          <li>–°–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–≤–æ–∏ –Ω–∞–±–æ—Ä—ã —Å–ª–æ–≤</li>
          <li>–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏</li>
          <li>–ü–æ–ª—É—á–∞—Ç—å —Ä–∞–Ω–Ω–∏–π –¥–æ—Å—Ç—É–ø –∫ –Ω–æ–≤—ã–º —Ñ–∏—à–∫–∞–º</li>
        </ul>
      </div>
    </div>

    <footer>¬© <span id="y"></span> StudyArt</footer>
  </div>

  <!-- Firebase (–º–æ–¥—É–ª—å–Ω—ã–π SDK) -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import {
      getAuth, onAuthStateChanged, signOut,
      createUserWithEmailAndPassword, signInWithEmailAndPassword,
      GoogleAuthProvider, OAuthProvider, signInWithPopup
    } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

    // üîß –í–°–¢–ê–í–¨ –°–í–û–ô –ö–û–ù–§–ò–ì –ò–ó FIREBASE CONSOLE
    const firebaseConfig = {
      apiKey: "PASTE_YOUR_API_KEY",
      authDomain: "PASTE_YOUR_PROJECT_ID.firebaseapp.com",
      projectId: "PASTE_YOUR_PROJECT_ID",
      appId: "PASTE_YOUR_APP_ID"
      // (–µ—Å–ª–∏ –≤ –∫–æ–Ω—Ñ–∏–≥–µ –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ –ø–æ–ª—è ‚Äî —Ç–æ–∂–µ –æ—Å—Ç–∞–≤—å)
    };

    const app   = initializeApp(firebaseConfig);
    const auth  = getAuth(app);

    // UI —ç–ª–µ–º–µ–Ω—Ç—ã
    const $ = s => document.querySelector(s);
    const state = $("#state");
    const show = (el)=>{ el.style.display="block"; };
    const msg = (t)=>{ state.textContent = t; show(state); };

    // Email: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
    $("#email-signup").addEventListener("click", async () => {
      const email = $("#email").value.trim();
      const pass  = $("#password").value.trim();
      try{
        await createUserWithEmailAndPassword(auth, email, pass);
        msg("–ê–∫–∫–∞—É–Ω—Ç —Å–æ–∑–¥–∞–Ω –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω –≤—Ö–æ–¥.");
      }catch(e){ msg("–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: " + (e.message||e)); }
    });

    // Email: –≤—Ö–æ–¥
    $("#email-login").addEventListener("click", async () => {
      const email = $("#email").value.trim();
      const pass  = $("#password").value.trim();
      try{
        await signInWithEmailAndPassword(auth, email, pass);
        msg("–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω.");
      }catch(e){ msg("–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: " + (e.message||e)); }
    });

    // Google
    $("#google-btn").addEventListener("click", async () => {
      try{
        const provider = new GoogleAuthProvider();
        await signInWithPopup(auth, provider);
      }catch(e){ msg("Google: " + (e.message||e)); }
    });

    // Apple (–∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Firebase + Apple Developer)
    $("#apple-btn").addEventListener("click", async () => {
      try{
        const provider = new OAuthProvider('apple.com');
        await signInWithPopup(auth, provider);
      }catch(e){ msg("Apple: " + (e.message||e)); }
    });

    // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    onAuthStateChanged(auth, user => {
      if (user){
        const name  = user.displayName || "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å";
        const email = user.email || "";
        state.innerHTML = `${name} ${email ? "¬∑ " + email : ""} ‚Äî –≤—ã –≤–æ—à–ª–∏. 
          <button id="logout" class="btn" style="margin-left:10px">–í—ã–π—Ç–∏</button>`;
        show(state);
        $("#logout")?.addEventListener("click", ()=> signOut(auth));
      } else {
        state.style.display = "none";
      }
    });

    document.getElementById("y").textContent = new Date().getFullYear();
  </script>
</body>
</html>
